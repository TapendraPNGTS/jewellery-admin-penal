"use strict";(self.webpackChunkERJ_admin_panel=self.webpackChunkERJ_admin_panel||[]).push([[416],{4416:function(e,s,i){i.r(s),i.d(s,{default:function(){return U}});var t=i(3504),n=i(3967),r=i(5193),a=i(1889),l=i(1582),o=i(890),d=i(4721);var c=(0,i(6934).ZP)("div")((e=>{let{theme:s}=e;return{backgroundColor:s.palette.primary.light,minHeight:"100vh"}})),h=i(4554),m=i(3735),u=i(184);var x=e=>{let{children:s,...i}=e;return(0,u.jsx)(m.Z,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...i,children:(0,u.jsx)(h.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:s})})},p=i(2791),g=i(6871),j=i(8096),Z=i(4925),w=i(8029),b=i(7071),v=i(3466),f=i(3400),y=i(5523),P=i(4454),C=i(6151),E=i(1724),I=i(2506);var k=()=>{const e=(0,p.useRef)(!0);return(0,p.useEffect)((()=>()=>{e.current=!1}),[]),e},R=i(4535),S=i(3746),_=i(165),q=i(8833),B=i(8559),z=i(1493);class A extends z.Z{constructor(){super("https://api.eastridgejewelers.com/api/v1/"),this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use((e=>(e.headers.Authorization=`Bearer ${(0,q.aO)()}`,e.headers.AuthKey="ERTJEWELERY",e)))},this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use((e=>e),(e=>Promise.resolve(e)))},this.loginConfig=B.Z.Auth.Login,this.login=async e=>this.instance({method:this.loginConfig.Method,url:this.loginConfig.Endpoint,headers:{},data:e}),this._initializeRequestInterceptor(),this._initializeResponseInterceptor()}}var W=A,F=i(2813),J=i(9434),H=i(7173),L=i(5218);var M=e=>{let{...s}=e;const i=(0,g.s0)(),t=(0,J.I0)(),r=new W,a=(0,F.b)(),o=((0,q.qp)(),(0,n.Z)()),d=k(),[c,m]=(0,p.useState)(!0),[x,B]=(0,p.useState)(!1),z=()=>{B(!x)},A=e=>{e.preventDefault()};return a?(0,u.jsx)(g.Fg,{to:"/dashboard"}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(I.J9,{initialValues:{email:"",password:"",submit:null},validationSchema:E.Ry().shape({email:E.Z_().max(255).required("Email is required"),password:E.Z_().max(255).required("Password is required")}),onSubmit:async(e,s)=>{let{setErrors:n,setStatus:a,setSubmitting:l}=s;try{if(d.current){var o;const s=await r.login({email:e.email,password:e.password});if(!s||200!==(null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.code))return L.Am.error("Something went wrong!");t((0,H.jM)(s.data.data.token)),t((0,H.Nq)(s.data.data.userId)),L.Am.success("Login successsfully"),i("/dashboard",{replace:!0}),a({success:!0}),l(!1)}}catch(c){console.error(c),d.current&&(a({success:!1}),n({submit:c.message}),l(!1))}},children:e=>{let{errors:i,handleBlur:t,handleChange:n,handleSubmit:r,isSubmitting:a,touched:d,values:p}=e;return(0,u.jsxs)("form",{noValidate:!0,onSubmit:r,...s,children:[(0,u.jsxs)(j.Z,{fullWidth:!0,error:Boolean(d.email&&i.email),sx:{...o.typography.customInput},children:[(0,u.jsx)(Z.Z,{htmlFor:"outlined-adornment-email-login",children:"Email"}),(0,u.jsx)(w.Z,{id:"outlined-adornment-email-login",type:"email",value:p.email,name:"email",onBlur:t,onChange:n,label:"User Email",inputProps:{}}),d.email&&i.email&&(0,u.jsx)(b.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i.email})]}),(0,u.jsxs)(j.Z,{fullWidth:!0,error:Boolean(d.password&&i.password),sx:{...o.typography.customInput},children:[(0,u.jsx)(Z.Z,{htmlFor:"outlined-adornment-password-login",children:"Password"}),(0,u.jsx)(w.Z,{id:"outlined-adornment-password-login",type:x?"text":"password",value:p.password,name:"password",onBlur:t,onChange:n,endAdornment:(0,u.jsx)(v.Z,{position:"end",children:(0,u.jsx)(f.Z,{"aria-label":"toggle password visibility",onClick:z,onMouseDown:A,edge:"end",size:"large",children:x?(0,u.jsx)(S.Z,{}):(0,u.jsx)(_.Z,{})})}),label:"Password",inputProps:{}}),d.password&&i.password&&(0,u.jsx)(b.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:i.password})]}),(0,u.jsx)(l.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:(0,u.jsx)(y.Z,{control:(0,u.jsx)(P.Z,{checked:c,onChange:e=>m(e.target.checked),name:"checked",color:"primary"}),label:"Remember me"})}),i.submit&&(0,u.jsx)(h.Z,{sx:{mt:3},children:(0,u.jsx)(b.Z,{error:!0,children:i.submit})}),(0,u.jsx)(h.Z,{sx:{mt:2},children:(0,u.jsx)(R.Z,{children:(0,u.jsx)(C.Z,{disableElevation:!0,disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign in"})})})]})}})})};var D=i.p+"static/media/ERJ-Favicon.c2790a39ca99c3c9ae3e598b45b79247.svg";var U=()=>{const e=(0,n.Z)(),s=(0,r.Z)(e.breakpoints.down("md"));return(0,u.jsx)(c,{children:(0,u.jsxs)(a.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[(0,u.jsx)(a.ZP,{item:!0,xs:12,children:(0,u.jsx)(a.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,u.jsx)(a.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,u.jsx)(x,{children:(0,u.jsxs)(a.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,u.jsx)(a.ZP,{item:!0,sx:{mb:3},children:(0,u.jsx)(t.rU,{to:"#",children:(0,u.jsx)("img",{src:D,width:150,height:120})})}),(0,u.jsx)(a.ZP,{item:!0,xs:12,children:(0,u.jsx)(a.ZP,{container:!0,direction:s?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,u.jsx)(a.ZP,{item:!0,children:(0,u.jsx)(l.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:(0,u.jsx)(o.Z,{color:e.palette.secondary.main,gutterBottom:!0,variant:s?"h3":"h2",children:"Hi, Welcome Back"})})})})}),(0,u.jsx)(a.ZP,{item:!0,xs:12,children:(0,u.jsx)(M,{})}),(0,u.jsx)(a.ZP,{item:!0,xs:12,children:(0,u.jsx)(d.Z,{})})]})})})})}),(0,u.jsx)(a.ZP,{item:!0,xs:12,sx:{m:3,mt:1}})]})})}}}]);
//# sourceMappingURL=416.278e73b9.chunk.js.map