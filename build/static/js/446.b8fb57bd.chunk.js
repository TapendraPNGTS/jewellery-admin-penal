"use strict";(self.webpackChunkERJ_admin_panel=self.webpackChunkERJ_admin_panel||[]).push([[446],{8068:function(e,t,s){var i=s(8833),r=s(8559),n=s(1493);class a extends n.Z{constructor(){super("https://api.eastridgejewelers.com/api/v1/"),this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use((e=>(e.headers.Authorization=`Bearer ${(0,i.aO)()}`,e.headers.AuthKey="ERTJEWELERY",e)))},this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use((e=>e),(e=>Promise.resolve(e)))},this.AllOrderConfig=r.Z.Orders.AllOrder,this.OrderByIdConfig=r.Z.Orders.OrderDetails,this.AllLeadsConfig=r.Z.Orders.AllLeads,this.LeadsByIdConfig=r.Z.Orders.LeadsById,this.getAllLeads=async()=>this.instance({method:this.AllLeadsConfig.Method,url:this.AllLeadsConfig.Endpoint,headers:{},data:null}),this.getLeadsById=async e=>this.instance({method:this.LeadsByIdConfig.Method,url:this.LeadsByIdConfig.Endpoint,headers:{},data:e}),this.getAllOrder=async()=>this.instance({method:this.AllOrderConfig.Method,url:this.AllOrderConfig.Endpoint,headers:{},data:null}),this.getOrderById=async e=>this.instance({method:this.OrderByIdConfig.Method,url:this.OrderByIdConfig.Endpoint,headers:{},data:e}),this._initializeRequestInterceptor(),this._initializeResponseInterceptor()}}t.Z=a},3446:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var i=s(2791),r=s(1889),n=s(7621),a=s(5527),d=s(2760),l=s(3400),h=s(3504),o=s(3735),c=s(1923),u=s(9836),g=s(3382),x=s(3994),j=s(9281),Z=s(6890),p=s(6812),m=s(5855),v=s(3006),f=s(5218),y=s(9434),C=s(8068),A=s(3225),w=s(184);function I(){const e=(0,y.I0)(),t=new C.Z,s=(0,y.v9)((e=>e.orders.allLeads)),[I,L]=i.useState(""),[O,b]=i.useState(1),[z,E]=(0,i.useState)(10),B=(0,i.useCallback)((async()=>{try{const s=await t.getAllLeads();return s&&s.data.data?(e((0,A.oi)(s.data.data)),f.Am.success("Latest data available")):f.Am.error("no latest data available")}catch(s){throw console.error(s),f.Am.error("Something went wrong"),s}}));return(0,i.useEffect)((()=>{B()}),[]),(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(o.Z,{title:(0,w.jsx)(r.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:c.dv,children:(0,w.jsx)(r.ZP,{item:!0,xs:12,md:12,children:(0,w.jsx)(v.Z,{fullWidth:!0,id:"outlined-search",label:"Search field",type:"search",onChange:e=>{L(e.target.value)}})})}),content:!1,children:s?(0,w.jsx)(n.Z,{children:(0,w.jsxs)(a.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,w.jsx)(j.Z,{sx:{maxHeight:540},children:(0,w.jsxs)(u.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,w.jsx)(Z.Z,{children:(0,w.jsxs)(m.Z,{children:[(0,w.jsx)(x.Z,{sx:{pl:3},children:"Sr No."}),(0,w.jsx)(x.Z,{children:"Date"}),(0,w.jsx)(x.Z,{children:"Name"}),(0,w.jsx)(x.Z,{children:"Email Id"}),(0,w.jsx)(x.Z,{children:"Subject"}),(0,w.jsx)(x.Z,{children:"Actions"})]})}),(0,w.jsx)(g.Z,{children:s.filter((e=>""===I.toLowerCase()?e:e.title.toLowerCase().includes(I))).map(((e,t)=>{return(0,w.jsxs)(m.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,w.jsx)(x.Z,{align:"start",children:t+1}),(0,w.jsx)(x.Z,{align:"start",children:null!==e&&void 0!==e&&e.createdAt?(s=e.createdAt,new Date(s).toLocaleString("en-us",{day:"numeric",month:"short",year:"numeric"})):"-"}),(0,w.jsx)(x.Z,{align:"start",children:null!==e&&void 0!==e&&e.name?e.name:"-"}),(0,w.jsx)(x.Z,{align:"start",children:null!==e&&void 0!==e&&e.email?e.email:"-"}),(0,w.jsx)(x.Z,{align:"start",children:null!==e&&void 0!==e&&e.subject?e.subject:"-"}),(0,w.jsx)(x.Z,{children:(0,w.jsx)(h.rU,{to:`/leads-details/${e.contactId}`,children:(0,w.jsx)(l.Z,{color:"primary","aria-label":"view",size:"large",children:(0,w.jsx)(d.Z,{sx:{fontSize:"1.1rem"}})})})})]},t);var s}))})]})}),(0,w.jsx)(p.Z,{rowsPerPageOptions:[10,20,100],component:"div",count:s.length,rowsPerPage:z,page:O,onPageChange:(e,t)=>{b(t)},onRowsPerPageChange:e=>{E(+e.target.value),b(1)}})]})}):(0,w.jsx)("h6",{children:"Loading..."})})})}},2760:function(e,t,s){var i=s(4836);t.Z=void 0;var r=i(s(5649)),n=s(184),a=(0,r.default)([(0,n.jsx)("path",{d:"M20 3H4c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h4v2h8v-2h4c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 14H4V5h16v12z"},"0"),(0,n.jsx)("path",{d:"M6 8.25h8v1.5H6zm10.5 1.5H18v-1.5h-1.5V7H15v4h1.5zm-6.5 2.5h8v1.5h-8zM7.5 15H9v-4H7.5v1.25H6v1.5h1.5z"},"1")],"DisplaySettings");t.Z=a}}]);
//# sourceMappingURL=446.b8fb57bd.chunk.js.map