"use strict";(self.webpackChunkpolity_admin_panel=self.webpackChunkpolity_admin_panel||[]).push([[244],{9244:function(e,r,n){n.r(r),n.d(r,{default:function(){return A}});var t=n(2791),a=n(1889),s=n(7621),i=n(5527),l=n(7247),c=n(1286),o=n(3400),d=n(3504),h=n(3735),x=n(1923),u=n(9836),j=n(3382),Z=n(3994),g=n(9281),m=n(6890),w=n(6812),v=n(5855),p=n(6871),y=n(8550),f=n(5218),b=n(9434),C=n(6413),S=n(7173),k=n(184);function A(){(0,p.s0)();const e=(0,b.I0)(),r=new C.Z,n=(0,b.v9)((e=>e.user.User)),[A,P]=t.useState(""),[I,z]=t.useState(0),[L,U]=(0,t.useState)(10),_=(0,t.useCallback)((async()=>{try{const n=await r.getAllUser();return n&&n.data.data?void e((0,S.V)(n.data.data)):f.Am.error("no latest users available")}catch(n){throw console.error(n),f.Am.error("Something went wrong"),n}}));return(0,t.useEffect)((()=>{_()}),[]),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(h.Z,{title:(0,k.jsx)(a.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:x.dv,children:(0,k.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,k.jsx)(y.Z,{fullWidth:!0,id:"outlined-search",label:"Search field",type:"search",onChange:e=>{P(e.target.value)}})})}),content:!1,children:n?(0,k.jsx)(s.Z,{children:(0,k.jsxs)(i.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,k.jsx)(g.Z,{sx:{maxHeight:540},children:(0,k.jsxs)(u.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,k.jsx)(m.Z,{children:(0,k.jsxs)(v.Z,{children:[(0,k.jsx)(Z.Z,{sx:{pl:3},children:"S No."}),(0,k.jsx)(Z.Z,{children:"Date Time"}),(0,k.jsx)(Z.Z,{children:"Name"}),(0,k.jsx)(Z.Z,{children:"Email"}),(0,k.jsx)(Z.Z,{children:"Contact"}),(0,k.jsx)(Z.Z,{children:"Type"}),(0,k.jsx)(Z.Z,{children:"Action"})]})}),(0,k.jsx)(j.Z,{children:n.filter((e=>""===A.toLowerCase()?e:e.title.toLowerCase().includes(A))).slice(I*L,I*L+L).map(((e,n)=>{return(0,k.jsxs)(v.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,k.jsx)(Z.Z,{align:"start",children:n+1}),(0,k.jsx)(Z.Z,{align:"start",children:e.createdAt?(t=e.createdAt,new Date(t).toLocaleString("en-us",{day:"numeric",month:"short",year:"numeric"})):"-"}),(0,k.jsx)(Z.Z,{align:"start",children:e.name}),(0,k.jsx)(Z.Z,{align:"start",children:e.email}),(0,k.jsx)(Z.Z,{align:"start",children:e.number}),(0,k.jsx)(Z.Z,{align:"start",children:e.type}),(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(d.rU,{to:`/edit-user/${e.userId}`,children:(0,k.jsx)(o.Z,{color:"primary","aria-label":"view",size:"large",children:(0,k.jsx)(c.Z,{sx:{fontSize:"1.1rem"}})})}),(0,k.jsx)(o.Z,{onClick:n=>{(async e=>{try{var n;const a=await r.deleteUser({userId:e});return a&&200===(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.code)?(_(),f.Am.success("Deleted Successfully")):f.Am.error(null===(t=a.data)||void 0===t?void 0:t.message);var t}catch(a){throw console.error(a),f.Am.error("Something went wrong"),a}})(e.userId)},color:"primary","aria-label":"view",size:"large",children:(0,k.jsx)(l.Z,{sx:{fontSize:"1.1rem"}})})]})]},n);var t}))})]})}),(0,k.jsx)(w.Z,{rowsPerPageOptions:[10,20,100],component:"div",count:n.length,rowsPerPage:L,page:I,onPageChange:(e,r)=>{z(r)},onRowsPerPageChange:e=>{U(+e.target.value),z(0)}})]})}):(0,k.jsx)("h6",{children:"Loading..."})})})}}}]);
//# sourceMappingURL=244.8ab8c744.chunk.js.map