"use strict";(self.webpackChunkERJ_admin_panel=self.webpackChunkERJ_admin_panel||[]).push([[113],{7759:function(e,t,a){var r=a(8833),i=a(8559),s=a(1493);class n extends s.Z{constructor(){super("https://api.eastridgejewelers.com/api/v1/"),this._initializeRequestInterceptor=()=>{this.instance.interceptors.request.use((e=>(e.headers.Authorization=`Bearer ${(0,r.aO)()}`,e.headers.AuthKey="ERTJEWELERY",e)))},this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use((e=>e),(e=>Promise.resolve(e)))},this.AllMarkupConfig=i.Z.Markup.AllMarkup,this.MarkupByIdConfig=i.Z.Markup.MarkupById,this.AddMarkupConfig=i.Z.Markup.AddMarkup,this.UpdateMarkupConfig=i.Z.Markup.UpdateMarkup,this.DeleteMarkupConfig=i.Z.Markup.DeleteMarkup,this.getAllMarkup=async()=>this.instance({method:this.AllMarkupConfig.Method,url:this.AllMarkupConfig.Endpoint,headers:{},data:null}),this.getMarkupById=async e=>this.instance({method:this.MarkupByIdConfig.Method,url:this.MarkupByIdConfig.Endpoint,headers:{},data:e}),this.getAddMarkup=async e=>this.instance({method:this.AddMarkupConfig.Method,url:this.AddMarkupConfig.Endpoint,headers:{},data:e}),this.getUpdateMarkup=async e=>this.instance({method:this.UpdateMarkupConfig.Method,url:this.UpdateMarkupConfig.Endpoint,headers:{},data:e}),this.getDeleteMarkup=async e=>this.instance({method:this.DeleteMarkupConfig.Method,url:this.DeleteMarkupConfig.Endpoint,headers:{},data:e}),this._initializeRequestInterceptor(),this._initializeResponseInterceptor()}}t.Z=n},5113:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var r=a(2791),i=a(1889),s=a(7621),n=a(5527),l=a(2760),d=a(7247),o=a(1286),h=a(8141),c=a(3400),u=a(3504),p=a(3735),m=a(1923),v=a(9836),x=a(3382),g=a(3994),k=a(9281),Z=a(6890),M=a(6812),j=a(5855),f=a(6871),C=a(3006),y=a(5218),w=a(9434),z=a(7759),A=a(9428),I=a(184);function b(){(0,f.s0)();const e=(0,w.I0)(),t=new z.Z,a=(0,w.v9)((e=>e.markups.allMarkups)),[b,S]=r.useState(""),[H,E]=r.useState(1),[D,P]=(0,r.useState)(10),L=(0,r.useCallback)((async()=>{try{const a=await t.getAllMarkup({page:H,recordsLimit:D});return a&&a.data.data?(e((0,A.uH)(a.data.data)),y.Am.success("Latest data available")):y.Am.error("no latest data available")}catch(a){throw console.error(a),y.Am.error("Something went wrong"),a}}));return(0,r.useEffect)((()=>{L()}),[]),(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(p.Z,{title:(0,I.jsx)(i.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:m.dv,children:(0,I.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,I.jsx)(C.Z,{fullWidth:!0,id:"outlined-search",label:"Search field",type:"search",onChange:e=>{S(e.target.value)}})})}),content:!1,children:a?(0,I.jsx)(s.Z,{children:(0,I.jsxs)(n.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,I.jsx)(k.Z,{sx:{maxHeight:540},children:(0,I.jsxs)(v.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,I.jsx)(Z.Z,{children:(0,I.jsxs)(j.Z,{children:[(0,I.jsx)(g.Z,{sx:{pl:3},children:"Sr No."}),(0,I.jsx)(g.Z,{children:"Date"}),(0,I.jsx)(g.Z,{children:"Minimum"}),(0,I.jsx)(g.Z,{children:"Maximum "}),(0,I.jsx)(g.Z,{children:"Commission"}),(0,I.jsx)(g.Z,{children:"Actions"})]})}),(0,I.jsx)(x.Z,{children:a.filter((e=>""===b.toLowerCase()?e:e.title.toLowerCase().includes(b))).map(((e,a)=>{return(0,I.jsxs)(j.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,I.jsx)(g.Z,{align:"start",children:a+1}),(0,I.jsx)(g.Z,{align:"start",children:null!==e&&void 0!==e&&e.createdAt?(r=e.createdAt,new Date(r).toLocaleString("en-us",{day:"numeric",month:"short",year:"numeric"})):"-"}),(0,I.jsx)(g.Z,{align:"start",children:null!==e&&void 0!==e&&e.min?e.min:"-"}),(0,I.jsx)(g.Z,{align:"start",children:null!==e&&void 0!==e&&e.max?e.max:"-"}),(0,I.jsx)(g.Z,{align:"start",children:null!==e&&void 0!==e&&e.commission?e.commission:"-"}),(0,I.jsxs)(g.Z,{children:[(0,I.jsx)(u.rU,{to:"/add-markups",children:(0,I.jsx)(c.Z,{color:"primary","aria-label":"view",size:"large",children:(0,I.jsx)(h.Z,{sx:{fontSize:"1.1rem"}})})}),(0,I.jsx)(u.rU,{to:`/update-markups/${e.markupId}`,children:(0,I.jsx)(c.Z,{color:"primary","aria-label":"view",size:"large",children:(0,I.jsx)(o.Z,{sx:{fontSize:"1.1rem"}})})}),(0,I.jsx)(u.rU,{to:`/views-markups/${e.markupId}`,children:(0,I.jsx)(c.Z,{color:"primary","aria-label":"view",size:"large",children:(0,I.jsx)(l.Z,{sx:{fontSize:"1.1rem"}})})}),(0,I.jsx)(c.Z,{onClick:a=>{(async e=>{try{var a;const i=await t.getDeleteMarkup({markupId:e});return i&&200===(null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.code)?(L(),y.Am.success("Deleted Successfully")):y.Am.error(null===(r=i.data)||void 0===r?void 0:r.message);var r}catch(i){throw console.error(i),y.Am.error("Something went wrong"),i}})(e.markupId)},color:"primary","aria-label":"view",size:"large",children:(0,I.jsx)(d.Z,{sx:{fontSize:"1.1rem"}})})]})]},a);var r}))})]})}),(0,I.jsx)(M.Z,{rowsPerPageOptions:[10,20,100],component:"div",count:a.length,rowsPerPage:D,page:H,onPageChange:(e,t)=>{E(t)},onRowsPerPageChange:e=>{P(+e.target.value),E(1)}})]})}):(0,I.jsx)("h6",{children:"Loading..."})})})}},8141:function(e,t,a){var r=a(4836);t.Z=void 0;var i=r(a(5649)),s=a(184),n=(0,i.default)((0,s.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");t.Z=n},7247:function(e,t,a){var r=a(4836);t.Z=void 0;var i=r(a(5649)),s=a(184),n=(0,i.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=n},2760:function(e,t,a){var r=a(4836);t.Z=void 0;var i=r(a(5649)),s=a(184),n=(0,i.default)([(0,s.jsx)("path",{d:"M20 3H4c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h4v2h8v-2h4c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 14H4V5h16v12z"},"0"),(0,s.jsx)("path",{d:"M6 8.25h8v1.5H6zm10.5 1.5H18v-1.5h-1.5V7H15v4h1.5zm-6.5 2.5h8v1.5h-8zM7.5 15H9v-4H7.5v1.25H6v1.5h1.5z"},"1")],"DisplaySettings");t.Z=n},1286:function(e,t,a){var r=a(4836);t.Z=void 0;var i=r(a(5649)),s=a(184),n=(0,i.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=n}}]);
//# sourceMappingURL=113.4f71592a.chunk.js.map